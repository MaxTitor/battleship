(()=>{var e={486:e=>{e.exports=function(){return new class{constructor(){this.placedShips=[],this.place=(e,t)=>{const o={ship:e,coords:t};this.placedShips.push(o)},this.attackedPositions=[],this.recieveAttack=e=>{this.attackedPositions.push(e),this.placedShips.forEach((t=>{t.coords.forEach((o=>{o.join("")===e.join("")&&(t.ship.hit(e),console.log(t.ship.hitPositions))}))}))},this.didPlayerLose=()=>{let e=0;return this.placedShips.forEach((t=>{!0===t.ship.isSunk()&&e++})),e===this.placedShips.length}}}}},184:(e,t,o)=>{const r=o(486);e.exports=function(){const e=r();return new class{constructor(){this.coords=(e,t,o)=>{let r=[o],i=o[0],n=o[1];if("horizontal"===t)for(let t=1;t<e.length;t++){n++;let e=[i,n];r.push(e)}else if("vertical"===t){let t=["a","b","c","d","e","f","g","h","i","j"];for(let i=1;i<e.length;i++){let e=t.indexOf(o[0]),s=[t[e+i],n];r.push(s)}}return r},this.illegalMove=t=>{const o=e.placedShips;let r=!1;return t.forEach((e=>{(e.includes(11)||e.includes(void 0))&&(r=!0),o.forEach((t=>{t.coords.forEach((t=>{e.join("")===t.join("")&&(r=!0)}))}))})),r},this.placeShip=(t,o,r)=>{const i=this.coords(t,o,r);if(!0===this.illegalMove(i))return console.log(i),console.log("illegal move"),"illegal move";e.place(t,i),t.isPlaced=!0},this.moveShip=(t,o,r)=>{const i=this.coords(t,o,r),n=e.placedShips;!0===this.illegalMove(i)?(console.log(i),console.log("illegal move")):n.forEach((e=>{e.ship===t&&(e.coords=i)}))},this.attack=t=>{e.recieveAttack(t)},this.returnBoard=()=>e}}}},919:e=>{e.exports=function(e,t){const o=new class{constructor(e,t){this.length=e,this.name=t,this.hitPositions=[],this.hit=e=>{this.hitPositions.push(e)},this.isSunk=()=>this.hitPositions.length===e,this.isPlaced=!1}}(e,t);return o}}},t={};function o(r){var i=t[r];if(void 0!==i)return i.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,o),n.exports}o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};(()=>{"use strict";o.d(r,{Z:()=>D});const e=o(919),t=[e(5,"carrier"),e(4,"battleship"),e(3,"cruiser"),e(3,"submarine"),e(2,"destroyer")],i=o(184)(),n=i.returnBoard(),s=n.placedShips,c=n.attackedPositions,a=function(){let e=0,t=["a","b","c","d","e","f","g","h","i","j"];for(let o=0;o<100;o++){e++,e>10&&(e=1);let r=t[Math.floor(o/10)]+e;document.querySelector("#board-one > div.grid."+r).classList.remove("ship")}s.forEach((e=>{e.coords.forEach((e=>{const o=e.join("");let r=0;for(let e=0;e<100;e++){r++,r>10&&(r=1);let i=t[Math.floor(e/10)]+r;o===i&&document.querySelector("#board-one > div.grid."+i).classList.add("ship")}}))})),c.forEach((e=>{const o=e.join("");let r=0;for(let e=0;e<100;e++){r++,r>10&&(r=1);let i=t[Math.floor(e/10)]+r;o===i&&document.querySelector("#board-one > div.grid."+i).classList.add("attacked")}})),s.forEach((e=>{e.ship.hitPositions.forEach((e=>{const o=e.join("");let r=0;for(let e=0;e<100;e++){r++,r>10&&(r=1);let i=t[Math.floor(e/10)]+r;o===i&&document.querySelector("#board-one > div.grid."+i).classList.add("hit")}}))}))},l=o(184)(),d=l.returnBoard(),h=i.returnBoard(),u=h.attackedPositions;let p=!1,f=[];const m=function(e){if(!1===p&&!0!==e)!function(){const e=["a","b","c","d","e","f","g","h","i","j"],o=["horizontal","vertical"];t.forEach((t=>{let r=!0;for(;!0===r;){const i=e[Math.floor(10*Math.random())],n=Math.floor(10*Math.random()+1),s=o[Math.floor(2*Math.random())],c=[i,n],a=l.coords(t,s,c);!1===l.illegalMove(a)&&(l.placeShip(t,s,c),r=!1)}})),console.log(d),p=!0}();else{if(!0===e)return d;!function(){const e=["a","b","c","d","e","f","g","h","i","j"];let t=!0;for(;!0===t;){const o=[e[Math.floor(10*Math.random())],Math.floor(10*Math.random()+1)];let r=!0;const i=o.join("");!1!==f.includes(i)&&0!==u.length||(r=!1),!1===r&&(h.recieveAttack(o),t=!1),f.push(i)}}(),a()}},v=o(919),g=[v(5,"carrier"),v(4,"battleship"),v(3,"cruiser"),v(3,"submarine"),v(2,"destroyer")],E=document.getElementById("carrier-btn"),b=document.getElementById("battleship-btn"),L=document.getElementById("cruiser-btn"),y=document.getElementById("submarine-btn"),M=document.getElementById("destroyer-btn"),S=document.getElementById("horizontal-btn"),k=document.getElementById("vertical-btn");let B="carrier",P="horizontal";S.addEventListener("click",(()=>{P="horizontal"})),k.addEventListener("click",(()=>{P="vertical"})),E.addEventListener("click",(()=>{B="carrier"})),b.addEventListener("click",(()=>{B="battleship"})),L.addEventListener("click",(()=>{B="cruiser"})),y.addEventListener("click",(()=>{B="submarine"})),M.addEventListener("click",(()=>{B="destroyer"}));const j=m(!0),I=j.attackedPositions,w=j.placedShips,q=m(!0);let x=[];const H=function(e){let t=e.split("");3===t.length?(t.pop(),t=[t[0],10]):2===t.length&&(t=[t[0],Number(t[1])]),!1===x.includes(e)&&(q.recieveAttack(t),function(){let e=0,t=["a","b","c","d","e","f","g","h","i","j"];for(let o=0;o<100;o++){e++,e>10&&(e=1);let r=t[Math.floor(o/10)]+e;document.querySelector("#board-two > div.grid."+r).classList.remove("attacked"),document.querySelector("#board-two > div.grid."+r).classList.remove("hit")}I.forEach((e=>{const o=e.join("");let r=0;for(let e=0;e<100;e++){r++,r>10&&(r=1);let i=t[Math.floor(e/10)]+r;o===i&&document.querySelector("#board-two > div.grid."+i).classList.add("attacked")}})),w.forEach((e=>{e.ship.hitPositions.forEach((e=>{const o=e.join("");let r=0;for(let e=0;e<100;e++){r++,r>10&&(r=1);let i=t[Math.floor(e/10)]+r;o===i&&document.querySelector("#board-two > div.grid."+i).classList.add("hit")}}))}))}()),x.push(e)},T=i.returnBoard(),z=m(!0),A=document.getElementById("start-btn");let G=document.getElementById("announcer");!function(){const e=document.getElementById("board-one"),t=document.getElementById("board-two");let o=0,r=["a","b","c","d","e","f","g","h","i","j"];for(let t=0;t<100;t++){const i=document.createElement("div");o++,o>10&&(o=1);let n=r[Math.floor(t/10)]+o;i.classList.add("grid",n),i.addEventListener("click",(()=>{D(!0,n,"playerBoard")})),i.addEventListener("mouseover",(()=>{i.classList.add("hover")})),i.addEventListener("mouseleave",(()=>{i.classList.remove("hover")})),e.append(i)}for(let e=0;e<100;e++){const i=document.createElement("div");o++,o>10&&(o=1);let n=r[Math.floor(e/10)]+o;i.classList.add("grid",n),i.addEventListener("click",(()=>{!1===i.classList.contains("attacked")&&!1===i.classList.contains("hit")&&D(!0,n,"cpuBoard")})),t.append(i)}}();let O=!1,N=!1,C=!1;function Z(e,t,o){!0===e&&!1===O&&!1===N&&"playerBoard"===o&&function(e){let t=e.split("");3===t.length?(t.pop(),t=[t[0],10]):2===t.length&&(t=[t[0],Number(t[1])]),function(e){g.forEach((t=>{t.name===B&&!1===t.isPlaced?i.placeShip(t,P,e):t.name===B&&!0===t.isPlaced&&i.moveShip(t,P,e)})),a()}(t)}(t),!0===e&&!0===O&&"cpuBoard"===o?(H(t),Z(!1)):!0===O&&!1===e&&(m(),!1===C&&(m(),C=!0));const r=T.didPlayerLose(),n=z.didPlayerLose();!0===O&&"playerBoard"!==o&&(!0===r?(O=!1,N=!0,G.innerHTML="Game over!",setInterval((()=>{G.innerHTML="Computer won!"}),2e3)):!0===n&&(O=!1,N=!0,G.innerHTML="Game over!",setInterval((()=>{G.innerHTML="Player won!"}),2e3)))}A.addEventListener("click",(()=>{5===T.placedShips.length&&!1===O?(Z(),O=!0,G.innerHTML="Game started"):5===T.placedShips.length&&!0===O?G.innerHTML="Game already started":G.innerHTML="Ships are not placed"}));const D=Z})()})();