(()=>{var t={486:t=>{t.exports=function(){return new class{constructor(){this.placedShips=[],this.place=(t,e)=>{const o={ship:t,coords:e};this.placedShips.push(o)},this.attackedPositions=[],this.recieveAttack=t=>{this.attackedPositions.push(t),this.placedShips.forEach((e=>{e.coords.forEach((o=>{o.join("")===t.join("")&&(e.ship.hit(t),console.log(e.ship.hitPositions))}))}))},this.didPlayerLose=()=>{let t=0;return this.placedShips.forEach((e=>{!0===e.ship.isSunk()&&t++})),t===this.placedShips.length}}}}},184:(t,e,o)=>{const r=o(486);t.exports=function(){const t=r();return new class{constructor(){this.coords=(t,e,o)=>{let r=[o],i=o[0],s=o[1];if("horizontal"===e)for(let e=1;e<t.length;e++){s++;let t=[i,s];r.push(t)}else if("vertical"===e){let e=["a","b","c","d","e","f","g","h","i","j"];for(let i=1;i<t.length;i++){let t=e.indexOf(o[0]),n=[e[t+i],s];r.push(n)}}return r},this.illegalMove=e=>{const o=t.placedShips;let r=!1;return e.forEach((t=>{(t.includes(11)||t.includes(void 0))&&(r=!0),o.forEach((e=>{e.coords.forEach((e=>{t.join("")===e.join("")&&(r=!0)}))}))})),r},this.placeShip=(e,o,r)=>{const i=this.coords(e,o,r);if(!0===this.illegalMove(i))return console.log(i),console.log("illegal move"),"illegal move";t.place(e,i),e.isPlaced=!0},this.moveShip=(e,o,r)=>{const i=this.coords(e,o,r),s=t.placedShips;!0===this.illegalMove(i)?(console.log(i),console.log("illegal move")):s.forEach((t=>{t.ship===e&&(t.coords=i)}))},this.attack=e=>{t.recieveAttack(e)},this.returnBoard=()=>t}}}},919:t=>{t.exports=function(t,e){const o=new class{constructor(t,e){this.length=t,this.name=e,this.hitPositions=[],this.hit=t=>{this.hitPositions.push(t)},this.isSunk=()=>this.hitPositions.length===t,this.isPlaced=!1}}(t,e);return o}}},e={};function o(r){var i=e[r];if(void 0!==i)return i.exports;var s=e[r]={exports:{}};return t[r](s,s.exports,o),s.exports}o.d=(t,e)=>{for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var r={};(()=>{"use strict";o.d(r,{Z:()=>C});const t=o(184)(),e=o(919),i=[e(5,"carrier"),e(4,"battleship"),e(3,"cruiser"),e(3,"submarine"),e(2,"destroyer")],s=t.returnBoard(),n=s.placedShips,c=s.attackedPositions,a=function(){let t=0,e=["a","b","c","d","e","f","g","h","i","j"];for(let o=0;o<100;o++){t++,t>10&&(t=1);let r=e[Math.floor(o/10)]+t;document.querySelector("#board-one > div.grid."+r).classList.remove("ship")}n.forEach((t=>{t.coords.forEach((t=>{const o=t.join("");let r=0;for(let t=0;t<100;t++){r++,r>10&&(r=1);let i=e[Math.floor(t/10)]+r;o===i&&document.querySelector("#board-one > div.grid."+i).classList.add("ship")}}))})),c.forEach((t=>{const o=t.join("");let r=0;for(let t=0;t<100;t++){r++,r>10&&(r=1);let i=e[Math.floor(t/10)]+r;o===i&&document.querySelector("#board-one > div.grid."+i).classList.add("attacked")}})),n.forEach((t=>{t.ship.hitPositions.forEach((t=>{const o=t.join("");let r=0;for(let t=0;t<100;t++){r++,r>10&&(r=1);let i=e[Math.floor(t/10)]+r;o===i&&document.querySelector("#board-one > div.grid."+i).classList.add("hit")}}))}))},l=document.getElementById("carrier-btn"),d=document.getElementById("battleship-btn"),h=document.getElementById("cruiser-btn"),u=document.getElementById("submarine-btn"),p=document.getElementById("destroyer-btn"),f=document.getElementById("horizontal-btn"),m=document.getElementById("vertical-btn");let g="carrier",v="horizontal";f.addEventListener("click",(()=>{v="horizontal"})),m.addEventListener("click",(()=>{v="vertical"})),l.addEventListener("click",(()=>{g="carrier"})),d.addEventListener("click",(()=>{g="battleship"})),h.addEventListener("click",(()=>{g="cruiser"})),u.addEventListener("click",(()=>{g="submarine"})),p.addEventListener("click",(()=>{g="destroyer"}));const E=o(919),b=[E(5,"carrier"),E(4,"battleship"),E(3,"cruiser"),E(3,"submarine"),E(2,"destroyer")],y=o(184)(),k=y.returnBoard(),L=t.returnBoard(),S=L.attackedPositions;let M=!1;const P=function(t){if(!1===M&&!0!==t)!function(){const t=["a","b","c","d","e","f","g","h","i","j"],e=["horizontal","vertical"];b.forEach((o=>{let r=!0;for(;!0===r;){const i=t[Math.floor(10*Math.random())],s=Math.floor(10*Math.random()+1),n=e[Math.floor(2*Math.random())],c=[i,s],a=y.coords(o,n,c);!1===y.illegalMove(a)&&(y.placeShip(o,n,c),r=!1)}})),console.log(k),M=!0}();else{if(!0===t)return k;!function(){const t=["a","b","c","d","e","f","g","h","i","j"];let e=!0;for(;!0===e;){const o=[t[Math.floor(10*Math.random())],Math.floor(10*Math.random()+1)];let r=!0;S.forEach((t=>{const e=t.join(""),i=o.join("");r=e===i})),0===S.length&&(r=!1),!1===r&&(L.recieveAttack(o),e=!1)}}(),a()}},B=P(!0),j=B.attackedPositions,I=B.placedShips,w=P(!0);let q=[];const x=function(t){let e=t.split("");3===e.length?(e.pop(),e=[e[0],10]):2===e.length&&(e=[e[0],Number(e[1])]),!1===q.includes(t)&&(w.recieveAttack(e),function(){let t=0,e=["a","b","c","d","e","f","g","h","i","j"];for(let o=0;o<100;o++){t++,t>10&&(t=1);let r=e[Math.floor(o/10)]+t;document.querySelector("#board-two > div.grid."+r).classList.remove("attacked"),document.querySelector("#board-two > div.grid."+r).classList.remove("hit")}j.forEach((t=>{const o=t.join("");let r=0;for(let t=0;t<100;t++){r++,r>10&&(r=1);let i=e[Math.floor(t/10)]+r;o===i&&document.querySelector("#board-two > div.grid."+i).classList.add("attacked")}})),I.forEach((t=>{t.ship.hitPositions.forEach((t=>{const o=t.join("");let r=0;for(let t=0;t<100;t++){r++,r>10&&(r=1);let i=e[Math.floor(t/10)]+r;o===i&&document.querySelector("#board-two > div.grid."+i).classList.add("hit")}}))}))}()),q.push(t)},z=t.returnBoard(),A=P(!0),O=document.getElementById("start-btn");!function(){const t=document.getElementById("board-one"),e=document.getElementById("board-two");let o=0,r=["a","b","c","d","e","f","g","h","i","j"];for(let e=0;e<100;e++){const i=document.createElement("div");o++,o>10&&(o=1);let s=r[Math.floor(e/10)]+o;i.classList.add("grid",s),i.addEventListener("click",(()=>{C(!0,s,"playerBoard")})),i.addEventListener("mouseover",(()=>{i.classList.add("hover")})),i.addEventListener("mouseleave",(()=>{i.classList.remove("hover")})),t.append(i)}for(let t=0;t<100;t++){const i=document.createElement("div");o++,o>10&&(o=1);let s=r[Math.floor(t/10)]+o;i.classList.add("grid",s),i.addEventListener("click",(()=>{C(!0,s,"cpuBoard")})),e.append(i)}}();let N=!1;function Z(e,o,r){!0===e&&!1===N&&"playerBoard"===r&&function(e){let o=e.split("");3===o.length?(o.pop(),o=[o[0],10]):2===o.length&&(o=[o[0],Number(o[1])]),function(e){i.forEach((o=>{o.name===g&&!1===o.isPlaced?t.placeShip(o,v,e):o.name===g&&!0===o.isPlaced&&t.moveShip(o,v,e)})),a()}(o)}(o),!0===e&&!0===N&&"cpuBoard"===r?(x(o),A.attackedPositions.length==A.attackedPositions.length&&console.log("illegal move"),Z(!1)):!0===N&&!1===e&&P();const s=z.didPlayerLose(),n=A.didPlayerLose();!0===N&&"playerBoard"!==r&&(!0!==s&&!0!==n||(alert("game over!"),N=!1))}O.addEventListener("click",(()=>{5===z.placedShips.length&&!1===N?(Z(),N=!0):alert("ships are not placed")}));const C=Z})()})();